From 0a7d7415d85c2f5406d2bec677751f16fc355d3e Mon Sep 17 00:00:00 2001
From: Lennart Poettering <lennart@poettering.net>
Date: Sun, 5 Apr 2009 02:13:53 +0200
Subject: Initialize the right scope field

Problem identified by Simo Sorce
---
 nss-myhostname.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/nss-myhostname.c b/nss-myhostname.c
index a0748b0..3ff6c48 100644
--- a/nss-myhostname.c
+++ b/nss-myhostname.c
@@ -105,7 +105,7 @@ enum nss_status _nss_myhostname_gethostbyname4_r(
         r_tuple2->name = r_name;
         r_tuple2->family = AF_INET6;
         memcpy(r_tuple2->addr, LOCALADDRESS_IPV6, 16);
-        r_tuple1->scopeid = (uint32_t) ifi;
+        r_tuple2->scopeid = (uint32_t) ifi;
         idx += ALIGN(sizeof(struct gaih_addrtuple));
 
         /* Verify the size matches */
-- 
1.7.1

